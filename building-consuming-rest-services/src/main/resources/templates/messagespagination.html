<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	<title>Messages Pagination page</title>
	<link rel="stylesheet" href="/style.css">
</head>

<body>
    <div sec:authorize="hasRole('ROLE_ADMIN')">
    
    <div class="Cell">Name</div>
    <div class="Cell">Email</div>
    <div class="Cell">Mobile</div>
    <div class="Cell">Subject</div>
    <div class="Cell">Status</div>
    <div class="Cell">Created At</div>
    <div class="Cell">Created By</div>
    <div class="Cell">Updated At</div>
    <div class="Cell">Updated By</div>
    <div class="Cell">Status</div>
    <div th:each="msg : ${contactMsgs}" class="Row">
		<div class="Cell">
			<h2 th:text="${msg.name}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.email}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.mobile}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.subject}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.status}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.createdAt}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.createdBy}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.updatedAt}"></h2>
		</div>
		<div class="Cell">
			<h2 th:text="${msg.updatedBy}"></h2>
		</div>
		<div class="Cell">
			<b><a th:href=@{/closeMsgPage(id=${msg.contactId})} >CLOSE</a></b>
		</div>
	</div>
	
	<!-- pagination -->
    <div >
        <ul>
            <li>
                <a th:if="${currentPage > 1}" th:href="@{'/displayMessages/page/' + ${currentPage - 1}}">
                    <span aria-hidden="true"></span>
                </a>
                <a th:unless="${currentPage > 1}" disabled="">
                    <span aria-hidden="true"></span>
                </a>
            </li>
            <span th:each="i: ${#numbers.sequence(1, totalPages)}">
            <li>
                <a th:if="${currentPage != i}" th:href="@{'/displayMessages/page/' + ${i}}">[[${i}]]</a>
                <a th:unless="${currentPage != i}">[[${i}]]</a>
            </li>
            </span>
            <li>
                <a th:if="${currentPage < totalPages}" th:href="@{'/displayMessages/page/' + ${currentPage + 1}}">
                    <span aria-hidden="true"></span>
                </a>
                <a th:unless="${currentPage < totalPages}" disabled="">
                    <span aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </div>
    <!-- //pagination -->
	
	</div>
	
</body>
</html>